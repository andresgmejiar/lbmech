<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Local Indicators of Dispersion — LID • lbmech</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Local Indicators of Dispersion — LID"><meta property="og:description" content="Calculate dispersion indexes according to a given set of standards
and expectations (Mejia Ramon and Munson 2023), obtaining group, non-group, 
and total values for local observations and the global dataset."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lbmech</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/movement.html">1. Movement Models</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Local Indicators of Dispersion</h1>
    
    <div class="hidden name"><code>LID.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate dispersion indexes according to a given set of standards
and expectations (Mejia Ramon and Munson 2023), obtaining group, non-group, 
and total values for local observations and the global dataset.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">LID</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">w</span>,</span>
<span>  index <span class="op">=</span> <span class="st">"gini"</span>,</span>
<span>  expect <span class="op">=</span> <span class="st">"self"</span>,</span>
<span>  standard <span class="op">=</span> <span class="st">"global"</span>,</span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  mle <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  fun.name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">index</span>, <span class="st">"q"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"spatial"</span>,</span>
<span>  max.cross <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">integer.max</span>,</span>
<span>  canonical <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pb <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  clear.mem <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A vector values</p></dd>


<dt>w</dt>
<dd><p>A weights matrix of dimensions <code>length(x) x length(x)</code>
representing that a given observation <code>j</code> (along the columns)
is a part of <code>i</code> (along the rows)'s group. This can be the output of the 
<code><a href="makeWeights.html">makeWeights</a></code> function.</p></dd>


<dt>index</dt>
<dd><p>A character string, either 'gini' (the default), or 'inoua', representing
whether distances are calculated in L1 or L2 space, respectively. Alternatively,
a numeric representing to what value distances and means are raised to when the
index is calculated. <code>index = 1</code> for Gini, and <code>index = 2</code> for Inoua.</p></dd>


<dt>expect</dt>
<dd><p>Either a character string or a matrix with dimensions <code>length(x) x length(x)</code>,
representing the expectation value from which errors are calculated for each observation
pair between <code>i</code> and <code>j</code>. If <code>expect = 'self'</code>, the expectation is calculated as <code>i</code>;
if <code>expect = 'local'</code>, the expectation is the neighborhood weighted mean; if 
if <code>expect = 'global'</code>, the expectation is the global mean. Expectations that depend on other
metrics (including hypothesis-driven that do not depend on the observed dataset) can
be provided by using an appropriate matrix.</p></dd>


<dt>standard</dt>
<dd><p>Either a character string or a matrix with dimensions <code>length(x) x length(x)</code>,
representing the standard by which errors are judged by each observation
pair between <code>i</code> and <code>j</code>. If <code>standard = 'self'</code>, the standard is calculated as <code>i</code>; if 
<code>standard = 'other'</code>, the standard is calculated as <code>j</code>;
if <code>standard = 'local'</code>, the standard is the neighborhood weighted mean; if 
if <code>standard = 'global'</code>, the standard is the global mean. Standards that depend on other
metrics (including hypothesis-driven that do not depend on the observed dataset) can
be provided by using an appropriate matrix.</p></dd>


<dt>n</dt>
<dd><p>A vector representing population weights. How much of an impact does a given 
observation have on any other observation regardless of its influence as provided
for in <code>w</code>. Default is <code>1</code> for all.</p></dd>


<dt>mle</dt>
<dd><p>Character string identifying the maximum likelihood estimator to be used. 
Default is <code>mle = 'mean'</code> for the traditional Gini, although since it uses mean absolute error
and implies Laplace distribution, <code>mle = 'median'</code> is recommended. Alternatively,
<code>index = 'inoua'</code> and <code>mle = 'mean'</code> for Gaussian processes.</p></dd>


<dt>fun.name</dt>
<dd><p>If <code>index != c('gini','inoua',1,2)</code>, how should the function
be named? Default is <code>fun.name = paste0(index,'q')</code>.</p></dd>


<dt>type</dt>
<dd><p>A character string, either the name or corresponding code of 
a particular standard-expectation pair, as defined in #Link to Mejia Ramon and Munson 2023#</p></dd>


<dt>max.cross</dt>
<dd><p>When processing, what is the maximum number of rows that 
an internal data.table can have? This is generally not a concern unless
the number of observations approaches <code>sqrt(.Machine$integer.max)</code>--usually
about 2^31 for most systems. Lower values result in a greater number of chunks
thus allowing larger data.sets to be calculated.</p></dd>


<dt>canonical</dt>
<dd><p>Should the canonical Gini or Inoua value also be calculated?
Default is <code>FALSE</code>, and is ignored if <code>index &gt; 2</code>.</p></dd>


<dt>pb</dt>
<dd><p>Logical. Should a progress bar be displayed? Default is <code>FALSE</code>, although
if a large dataset is processed that requires adjusting <code>max.cross</code> this can
be useful</p></dd>


<dt>clear.mem</dt>
<dd><p>Logical. Should <code><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></code> be run in the middle of the 
calculation? Default is <code>clear.mem</code> but set as <code>TRUE</code> if memory limits are a concern.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with the following entries:</p>


<p>(1) <code>$index</code> A named character string with the code of the index, named with its name</p>


<p>(2) <code>$local</code> A data.table, with three columns: <code>G_Gi</code>, the local group dispersion
index; <code>G_NGi</code>, the local non-group dispersion index; and <code>G_i</code>, the local
total dispersion index. Rows are in the same order as the input vector. This data.table
also contains the chosen expectations and standards as hidden attributes to be used by
<code><a href="inferLID.html">inferLID</a></code>.</p>
 

<p>(3) <code>$global</code> A list with three entries: <code>$G_G</code>, the global group dispersion index;
<code>$G_NG</code>, the global nongroup dispersion index; and <code>$G</code>, the global
total dispersion index.</p>


<p>(4) <code>$canonical</code> The canonical Gini or Inoua index, if <code>canonical = TRUE</code> and 
<code>index &lt; 3</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The output list can be passed to <code><a href="inferLID.html">inferLID</a></code> to determine
whether the values are locally and globally higher or lower than would be 
expected if other values were randomly distributed among remaining observations.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate dummy observations</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1</span>, <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get distance matrix</span></span></span>
<span class="r-in"><span><span class="va">dists</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get fuzzy weights considering 5 nearest neighbors based on </span></span></span>
<span class="r-in"><span><span class="co"># inverse square distance</span></span></span>
<span class="r-in"><span><span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="makeWeights.html">makeWeights</a></span><span class="op">(</span><span class="va">dists</span>, bw <span class="op">=</span> <span class="fl">5</span>, </span></span>
<span class="r-in"><span>                       mode <span class="op">=</span> <span class="st">'adaptive'</span>, weighting <span class="op">=</span> <span class="st">'distance'</span>,</span></span>
<span class="r-in"><span>                       FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">1</span><span class="op">/</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span>, minval <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>                       row.stand <span class="op">=</span> <span class="st">'fuzzy'</span><span class="op">)</span></span></span>
<span class="r-in"><span>                       </span></span>
<span class="r-in"><span><span class="co"># Obtain the 'local gini' value</span></span></span>
<span class="r-in"><span><span class="va">lid</span> <span class="op">&lt;-</span> <span class="fu">LID</span><span class="op">(</span><span class="va">x</span>, w <span class="op">=</span> <span class="va">weights</span>, index <span class="op">=</span> <span class="st">'gini'</span>, type <span class="op">=</span> <span class="st">'local'</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andres G. Mejia Ramon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

