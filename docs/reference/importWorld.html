<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Import a world where movement is possible — importWorld • lbmech</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Import a world where movement is possible — importWorld"><meta property="og:description" content="A function that for a given region imports all cells from the
transition .fst files. If such files have not yet been generated,
they can be created by passing along the necessary parameters to this
function as with calculateCosts."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lbmech</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/movement.html">1. Movement Models</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Import a world where movement is possible</h1>
    
    <div class="hidden name"><code>importWorld.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function that for a given region imports all cells from the
transition <code>.fst</code> files. If such files have not yet been generated,
they can be created by passing along the necessary parameters to this
function as with <code><a href="calculateCosts.html">calculateCosts</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">importWorld</span><span class="op">(</span></span>
<span>  <span class="va">region</span>,</span>
<span>  banned <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  costFUN <span class="op">=</span> <span class="va">energyCosts</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>region</dt>
<dd><p>An object of class SpatRraster, Raster* or SpatialPolygons*
representing the total area where movement is possible.</p></dd>


<dt>banned</dt>
<dd><p>An object of class Raster* or SpatialPolygons*
representing the total area where movement is <em>prohibited</em>. Must lie within
the area defined by <code>polys</code></p></dd>


<dt>dir</dt>
<dd><p>A filepath to the directory being used as the workspace, the same
one instantiated with <code><a href="defineWorld.html">defineWorld</a></code>. 
Default is <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> but unless the analyses will only be performed a few
times it is highly recommended to define a permanent workspace.</p></dd>


<dt>vars</dt>
<dd><p>The variable names to import.</p></dd>


<dt>costFUN</dt>
<dd><p>A cost function such as (<code><a href="energyCosts.html">timeCosts</a></code> or
<code><a href="energyCosts.html">energyCosts</a></code>). The input to such a function should be 
a <code>data.table</code> object with column names present in the makeWorld file
(initially <code>c('x_i','x_f','y_i','y_f','z_i','z_f','dz','dl','dr')</code>), and
the output should be an data.table object with the same number of rows and the
desired output variables as the only column names. Constants can be passed in the 
<code>...</code> slot. Default is 
<code>costFUN = <a href="energyCosts.html">energyCosts</a></code>.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments to pass to <code><a href="calculateCosts.html">calculateCosts</a></code>
and <code>costFUN</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class data.table containing at least three columns:</p>


<p>(1) <code>$from</code>, a character string of all possible origin cells in format "x,y",</p>


<p>(2) <code>$to</code>,  a character string of all possible destination cells in format "x,y"</p>


<p>(3+) a numeric representing the imported costs(s)</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The default parameters are sufficient for a workflow involving calculating
costs with the <code><a href="energyCosts.html">energyCosts</a></code> function. However, if
non-energetic analyses are desired, the user must define their own.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate a DEM</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        y <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu">as.data.table</span><span class="op">(</span><span class="va">dem</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dem</span><span class="op">[</span>, <span class="va">z</span> <span class="op">:=</span> <span class="fl">250</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">n</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>      <span class="fl">250</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="op">(</span><span class="va">y</span> <span class="op">-</span> <span class="va">n</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            x    y         z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1: 0.01 0.01 1.0146139</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2: 0.02 0.01 1.0404641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3: 0.03 0.01 1.0675194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4: 0.04 0.01 1.0958300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      5: 0.05 0.01 1.1254477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ---                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 249996: 4.96 5.00 1.0711366</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 249997: 4.97 5.00 1.0428260</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 249998: 4.98 5.00 1.0157707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 249999: 4.99 5.00 0.9899205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250000: 5.00 5.00 0.9652271</span>
<span class="r-in"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu">rast</span><span class="op">(</span><span class="va">dem</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ext</span><span class="op">(</span><span class="va">dem</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span>, <span class="fl">20000</span>, <span class="fl">30000</span>, <span class="fl">40000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crs</span><span class="op">(</span><span class="va">dem</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"+proj=lcc +lat_1=48 +lat_2=33 +lon_0=-100 +datum=WGS84"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Export it so it doesn't just exist on the memory</span></span></span>
<span class="r-in"><span><span class="va">dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">writeRaster</span><span class="op">(</span><span class="va">dem</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">dir</span>,<span class="st">"/DEM.tif"</span><span class="op">)</span>,overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Import raster, get the grid</span></span></span>
<span class="r-in"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu">rast</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">dir</span>,<span class="st">"/DEM.tif"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="makeGrid.html">makeGrid</a></span><span class="op">(</span>dem <span class="op">=</span> <span class="va">dem</span>, nx <span class="op">=</span> <span class="va">n</span>, ny <span class="op">=</span> <span class="va">n</span>, sources <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select all tiles that exist between x = (12000,16000) and y = (32000,36000)</span></span></span>
<span class="r-in"><span><span class="va">tiles</span> <span class="op">&lt;-</span> <span class="fu">ext</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12000</span>,<span class="fl">16000</span>,<span class="fl">32000</span>,<span class="fl">36000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tiles</span> <span class="op">&lt;-</span> <span class="fu">as.polygons</span><span class="op">(</span><span class="va">tiles</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crs</span><span class="op">(</span><span class="va">tiles</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">crs</span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="whichTiles.html">whichTiles</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">tiles</span>, polys <span class="op">=</span> <span class="va">grid</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' # Make a world but limit it to the DEM grid size</span></span></span>
<span class="r-in"><span><span class="fu"><a href="defineWorld.html">defineWorld</a></span><span class="op">(</span>source <span class="op">=</span> <span class="va">grid</span>, cut_slope <span class="op">=</span> <span class="fl">0.5</span>, </span></span>
<span class="r-in"><span>            res <span class="op">=</span> <span class="fu">res</span><span class="op">(</span><span class="va">dem</span><span class="op">)</span>, dir <span class="op">=</span> <span class="va">dir</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a world but limit it to the DEM grid size</span></span></span>
<span class="r-in"><span><span class="va">world</span> <span class="op">&lt;-</span> <span class="fu">importWorld</span><span class="op">(</span><span class="va">grid</span><span class="op">[</span><span class="fl">8</span>,<span class="op">]</span>, dir <span class="op">=</span> <span class="va">dir</span>, vars <span class="op">=</span> <span class="st">'dE_l'</span>, costFUN <span class="op">=</span> <span class="va">energyCosts</span>,</span></span>
<span class="r-in"><span>m <span class="op">=</span> <span class="fl">70</span>, v_max <span class="op">=</span> <span class="fl">1.5</span>, BMR <span class="op">=</span> <span class="fl">76</span>, k <span class="op">=</span> <span class="fl">3.5</span>, s <span class="op">=</span> <span class="fl">0.05</span>, l_s <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>L <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_01 (1 of 4)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_02 (2 of 4)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_06 (3 of 4)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_07 (4 of 4)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_03 (1 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_08 (2 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_11 (1 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_12 (2 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_13 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_16 (1 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_17 (2 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_18 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_09 (1 of 3)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_14 (2 of 3)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_19 (3 of 3)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_21 (1 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_22 (2 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_23 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_24 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_04 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_05 (1 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_10 (2 of 2)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_15 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_20 (1 of 1)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Cropping Tile SECTOR_25 (1 of 1)"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Imported  9  Sectors</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andres G. Mejia Ramon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

